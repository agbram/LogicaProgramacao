<script>
let posicao = 0;
let andar = 0;

let posicaoMoeda = 6;
let andarMoeda = 1; 

let personagem = "x";
let moeda = "@";
let vazio = " ";
let chao = "_";

let tamanhoMundo = 10;

document.addEventListener("keyup", (e) => {
    if (e.key === "ArrowRight") {
        posicao++;
    } else if (e.key === "ArrowLeft") {
        posicao--;
    } else if (e.key === "d") {
        posicao += 3;
    } else if (e.key === "a") {
        posicao -= 3;
    } else if (e.key === "ArrowUp") {
        andar = 1;
    } else if (e.key === "ArrowDown") {
        andar = 0;
    }

    console.clear();
    limitar();
    desenhar();
});

function limitar() {
    if (posicao >= tamanhoMundo) {
        posicao = tamanhoMundo - 1;
        console.log("Aqui é o fim do mapa!");
    } else if (posicao < 0) {
        posicao = 0;
        console.log("Aqui é o fim do mapa!");
    }

    if (andar > 1) andar = 1;
    if (andar < 0) andar = 0;
}

function desenhar() {
    let linhaCima = "";
    let linhaBaixo = "";

    for (let i = 0; i < tamanhoMundo; i++) {
        if (andar === 1 && posicao === i) {
            linhaCima += personagem;
        } else if (andarMoeda === 1 && posicaoMoeda === i) {
            linhaCima += moeda;
        } else {
            linhaCima += vazio;
        }

        if (andar === 0 && posicao === i) {
            linhaBaixo += personagem;
        } else if (andarMoeda === 0 && posicaoMoeda === i) {
            linhaBaixo += moeda;
        } else {
            linhaBaixo += chao;
        }
    }

    console.log(linhaCima);
    console.log(linhaBaixo);

    // Coletar moeda
    if (posicao === posicaoMoeda && andar === andarMoeda) {
        console.log("Você coletou a moeda!");
        posicaoMoeda = -1;
        andarMoeda = -1;
    }
}
</script>
